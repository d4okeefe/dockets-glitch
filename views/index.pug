extends layout

block content
  div.container
    h2
      | Supreme Court Dockets
    div 
      div 
        h6
          | Find dockets:
        input#search-table(type="text" placeholder="Search...")
        br
        br
      div
        form#populateJSON_form(method='get' action='/dockets')
          button#populateJSON.btn.btn-secondary Populate JSON page
        br
      div
        h6#num_rows_in_tbl
      div
        h6
          | add / remove columns
        nav.navbar.navbar-expand-lg.navbar-light.bg-light
          //a#toggle_dkt_yr(style="color:lightgray") Docket year
          a#toggle_date_retrieved(style="color:lightgray") Date retrieved
          a#toggle_date_docketed(style="color:lightgray") Date docketed
          a#toggle_lwr_ct(style="color:lightgray") Lower court
          a#toggle_lwr_ct_dec_dt(style="color:lightgray") Date of lower court decision
          a#toggle_lwr_ct_cs_num(style="color:lightgray") Lower court case number
          a#toggle_latest_proceeding(style="color:lightgray") Latest proceeding
          a#toggle_proceedings(style="color:lightgray") Proceedings
          a#toggle_contacts(style="color:lightgray") Contacts
        br
      div
        

  div.container
    table#docket-table.table.table-bordered.table-sm(cellspacing="0" width="100%")
      thead.thead-dark
        tr
          //th.th-sm.dkt_yr_header(style="display:none") Docket year
          th.th-sm.dkt_shrt_header(style="display:none")
          th.th-sm.date_retrieved_header(style="display:none") Date retrieved from Scotus Site
          th.th-sm.docket-sort Docket
          th.th-sm Case
          th.th-sm.lower_court_header Lower Court
          th.th-sm.lower_court_case_number_header(style="display:none")= 'Lower court case number'
          th.th-sm.lower_court_decision_date_header(style="display:none") Lower Ct Decision
          th.th-sm.date_docketed_header(style="display:none") Date Docketed
          th.th-sm.contacts_header(style="display:none") Contacts
          th.th-sm.latest_proceeding_header(style="display:none") Latest proceeding
          th.th-sm.proceedings_header(style="display:none") Proceedings
      tbody
        each d in docket_list
          tr#docket-rows
            //td.td-sm.dkt_yr(style="display:none")= d.docket_year
            td.td-sm.dkt_shrt(style="display:none")= d.docket_number_short
            td.td-sm.date_retrieved(style="display:none")= prettyDate(d.date_retrieved)
            td.td-sm.docket_number
              span
                a(href=d.web_address target="_blank")
                  p= d.docket_number
            td.td-sm.case_name= d.case_name
            td.td-sm.lower_court= d.lower_court
            td.td-sm.lower_court_case_number(style="display:none")= d.lower_court_case_number
            td.td-sm.lower_court_decision_date(style="display:none")= d.decision_date_string
            td.td-sm.date_docketed(style="display:none")= d.date_docketed_string
            td.td-sm.contacts(style="display:none")
              each c in d.contact
                ul
                  li
                    p.contactlist= c.attorney_full_name
                    p.contactlist= c.attorney_office
                    p.contactlist= c.attorney_street_address
                    p.contactlist= c.attorney_email
                    p.contactlist= c.attorney_email
                    p.contactlist= c.party_header
            td.td-sm.latest_proceeding(style="display:none")
              div
                span= d.proceeding[d.proceeding.length - 1].date_string
                br
                span= d.proceeding[d.proceeding.length - 1].text
            td.td-sm.proceedings(style="display:none")
              each p in d.proceeding
                ul
                  li= p.itm_num
                  li
                    span <strong>
                    span= p.date_string
                    span </strong><br>
                    span= p.text
                  
  div#extrainfo.container

